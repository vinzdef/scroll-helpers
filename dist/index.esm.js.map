{"version":3,"file":"index.esm.js","sources":["../node_modules/@okiba/event-emitter/dist/index.esm.js","../lib/detect.js","../node_modules/@okiba/arrays/dist/index.esm.js","../node_modules/@okiba/dom/dist/index.esm.js","../lib/event-manager.js","../node_modules/@okiba/math/dist/index.esm.js","../lib/sizes-cache.js","../lib/scroll-manager.js","../node_modules/@okiba/component/dist/index.esm.js","../lib/scroll-container.js","../lib/smooth-scroll.js","../lib/sticky-content.js","../lib/view-progress.js"],"sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\n/**\n * @module EventEmitter\n * @description Emits events that can be listened and unlistened to\n * @example\n * import EventEmitter from '@okiba/event-emitter'\n * const emitter = new EventEmitter\n * emitter.on('log', console.log)\n * emitter.emit('log', 'Silence is deprecated')\n * // Logs: 'Silence is deprecated'\n *\n * emitter.off('log', console.log)\n * emitter.emit('log', 'Will not run')\n * // ...Nothing happens\n */\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.hs = {};\n  }\n  /**\n   * Sets an event listener for an event type\n   * @param  {String} name    Event type\n   * @param  {Function} handler Callback to be fired when that event occours\n   */\n\n\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(name, handler) {\n      (this.hs[name] || (this.hs[name] = [])).push(handler);\n    }\n    /**\n     * Unsets an event listener for an event type\n     * @param  {String} name    Event type\n     * @param  {Function} handler Callback previously registered for that event type\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(name, handler) {\n      if (!this.hs[name]) return;\n      var i = this.hs[name].indexOf(handler);\n      if (i < 0) return;\n      this.hs[name].splice(i, 1);\n    }\n    /**\n     * Triggers an event with optional data attached.\n     * All listeners will be triggered in registration order.\n     * Custom data will be passed to them as a parameter\n     * @param  {String} name Event type\n     * @param  {Object} [data] Custom data to be passed to the handlers\n     */\n\n  }, {\n    key: \"emit\",\n    value: function emit(name, data) {\n      if (!this.hs || !this.hs[name]) return;\n\n      for (var i = 0; i < this.hs[name].length; ++i) {\n        this.hs[name][i](data);\n      }\n    }\n    /**\n     * Removes all event listeners and deletes the handlers object\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this = this;\n\n      Object.entries(this.hs).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            name = _ref2[0],\n            handlers = _ref2[1];\n\n        return handlers.forEach(function (handler) {\n          return _this.off(name, handler);\n        });\n      });\n      delete this.hs;\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nexport default EventEmitter;\n//# sourceMappingURL=index.esm.js.map\n","let _hasPassiveEvents\nconst testHasPassiveEvents = {}\nObject.defineProperties(hasPassiveEvents, {\n  check: {\n    get() {\n      if (_hasPassiveEvents !== void 0) {\n        return _hasPassiveEvents\n      }\n\n      function noop() {}\n\n      const options = Object.defineProperty({}, 'passive', {\n        get() {\n          _hasPassiveEvents = true\n        }\n      })\n\n      window.addEventListener('_', noop, options)\n      window.removeEventListener('_', noop, options)\n      return _hasPassiveEvents\n    }\n  }\n})\n\nconst testIsTouch = {}\nObject.defineProperties(testIsTouch, {\n  check: {\n    get() {\n      return 'ontouchstart' in window\n    }\n  }\n})\n\n\nexport const hasPassiveEvents = testHasPassiveEvents.check\nexport const isTouch = testIsTouch.check\n","/**\n * @module arrays\n * @description Array utils for okiba js\n */\n\n/**\n * Return the first element if it only contains one\n * @example\n * const els = arrayOrOne([🍏, 🍌])\n * console.log(els) // [🍏, 🍌]\n *\n * const els = arrayOrOne([🍏])\n * console.log(els) // 🍏\n *\n * @param {Array-like} arrayLike The options object.\n * @returns {any} The first element or the argument, undefined if empty array\n */\nfunction arrayOrOne(arrayLike) {\n  if (arrayLike === void 0 || arrayLike.length === 0) {\n    return void 0;\n  }\n\n  if (arrayLike.length === 1) {\n    return arrayLike[0];\n  }\n\n  return arrayLike;\n}\n/**\n * Cast an array-like object or single element to Array\n * @example\n * const elements = castArray(document.querySelectorAll('p')) // [p, p]\n * const fruits = castArray(🍒) // [🍒]\n *\n * @param {any} castable Array to cast\n * @returns {Array} The array-like converted to Array, or an Array containing the element\n */\n\nfunction castArray(castable) {\n  if (castable === void 0) return castable;\n\n  if (castable instanceof Array) {\n    return castable;\n  }\n\n  if (castable.callee || castable instanceof NodeList || castable instanceof DOMTokenList) {\n    return Array.prototype.slice.call(castable);\n  }\n\n  return [castable];\n}\n/**\n * Removes an element from an array in-place without causing Garbage Collection\n * @example\n * const array = [🍎, 🍐, 🍌]\n * spliceOne(array, 1)\n * console.log(array) // Logs: [🍎, 🍌]\n * @param {Array} array Array you want to remove an element from\n * @param {Number} index The index of the element to remove\n */\n\nfunction spliceOne(array, index) {\n  for (var i = index, k = i + 1, n = array.length; k < n; i += 1, k += 1) {\n    array[i] = array[k];\n  }\n\n  --array.length;\n}\n\nexport { arrayOrOne, castArray, spliceOne };\n//# sourceMappingURL=index.esm.js.map\n","import { castArray } from '@okiba/arrays';\n\n/**\n * @module  dom\n * @description Utilities to work with dom elements and selectors\n */\n/**\n * Selects a DOM Element with a certain id\n *\n * @example\n * import {byId} from '@okiba/dom'\n * const apple = byId('apple')\n * console.log(apple) // [div.apple]\n *\n * @param  {String}  id DOM id you are looking for\n *\n * @return {Element} A DOM Element matching `id`\n */\n\nfunction byId(id) {\n  return document.getElementById(id);\n}\n/**\n * Selects a DOM Element, scoped to element\n *\n * @example\n * import {qs} from '@okiba/dom'\n * const pear = qs('.pear')\n * console.log(pear) // [div.pear]\n *\n * @param  {String}   selector            DOM Selector (tag, class, id, anything that can be passed to `querySelector` API)\n * @param  {Element}  [element=document]  DOM Element to scope the selection query, only childs of that element will be tageted\n *\n * @return {Element} A DOM Element matching `selector`\n */\n\nfunction qs(selector) {\n  var element = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n  return element.querySelector(selector);\n}\n/**\n * Selects an array of DOM Elements, scoped to element\n *\n * @example\n * import {qsa} from '@okiba/dom'\n * const fruits = qsa('.fruit')\n * console.log(fruits) // [div.fruit, div.fruit]\n *\n * @param  {String}   selector            DOM Selector (tag, class, id, anything that can be passed to `querySelector` API)\n * @param  {Element}  [element=document]  DOM Element to scope the selection query, only childs of that element will be tageted\n *\n * @return {Element[]} An array of DOM elements matching `selector`\n */\n\nfunction qsa(selector) {\n  var element = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n  return castArray(element.querySelectorAll(selector));\n}\n\nfunction evt(source, type, handler, action, options) {\n  if (!type || !handler) return false;\n  var elements = castArray(source);\n  var types = castArray(type);\n  var handlers = castArray(handler);\n\n  for (var i = 0; i < elements.length; ++i) {\n    for (var j = 0; j < types.length; ++j) {\n      elements[i][\"\".concat(action, \"EventListener\")](types[j], handlers[Math.min(j, handlers.length - 1)], options);\n    }\n  }\n\n  return true;\n}\n/**\n * Attaches an event listener to a DOM Element, or an array of.\n *\n * @example\n * import {qsa, on} from '@okiba/dom'\n * const buttons = qsa('.button')\n *\n * on(buttons, 'click', onClick)\n * on(buttons, ['mouseenter', 'mouseleve'], onMouseChange)\n *\n * // adds `onClick` to 'click' and `onMouseChange` to both 'mouseenter' and 'mouseleave'\n * on(buttons, ['click', mouseenter', 'mouseleve'], [onClick, onMouseChange])\n *\n * @param {(Element|Element[])} [window] source\n * the element which will trigger the event\n * @param {(String|String[])} type\n * the event name to bind. Or an array of\n * @param {(Function|Function[])} handler\n * the callback to be fired at the event. If an array is supplied the handlers will be bound in order,\n * if there are less handlers than event types, the last handler is bound to all remaining events.\n *\n * @return {Boolean} Success of the binding\n */\n\n\nfunction on(source, type, handler, options) {\n  return evt(source, type, handler, 'add', options);\n}\n/**\n * Detached an event listener from a DOM Element, or an array of.\n *\n * @example\n * import {qs, off} from '@okiba/dom'\n * const button = qs('.button')\n *\n * button.addEventListener('click', onButtonClick)\n * // or okiba's `on` on(button, 'click')\n *\n * off(button, 'click', onButtonClick)\n *\n * // removes `onMouseChange` from both 'mouseenter' and 'mouseleave'\n * off(buttons, ['mouseenter', 'mouseleve'], onMouseChange)\n *\n * // removes `onClick` from 'click' and `onMouseChange` from both 'mouseenter' and 'mouseleave'\n * off(buttons, ['click', mouseenter', 'mouseleve'], [onClick, onMouseChange])\n *\n * @param {(Element|Element[])} [window] source\n * Element which will trigger the event\n * @param {(String|String[])} type\n * Event name to unbind. Or an array of\n * @param {(Function|Function[])} handler\n * Callback bound to the event. If an array is supplied the handlers will be unbound in order,\n * if there are less handlers than event types, the last handler is unbound from all remaining events.\n *\n * @return {Boolean} Success of the unbinding\n */\n\nfunction off(source, type, handler, options) {\n  return evt(source, type, handler, 'remove', options);\n}\n/**\n *\n * Read mouse and touch position in the same way\n *\n * @example\n * import {eventCoords, on} from '@okiba/dom'\n * on(window, ['mousemove', 'touchmove'], onMove)\n *\n * function onMove(e){\n *  const coords = eventCoords(e)\n *  console.log(coords)\n * }\n *\n * @param {Event} DOM Event\n *\n * @return {Object} Event position coordinates (clientX and ClientY)\n */\n\nfunction eventCoords(event) {\n  var coords = event;\n\n  if (event.type.indexOf('touch') === 0) {\n    coords = event.touches[0] || event.changedTouches[0];\n  }\n\n  return {\n    clientX: coords.clientX,\n    clientY: coords.clientY\n  };\n}\n/**\n * Gets top and left offsets of an element\n *\n * @example\n * import {qs, offset} from '@okiba/dom'\n * const el = qs('.something')\n * const offsets = offset(el)\n * console.log(offsets) // Logs: {top: 100, left: 100}\n *\n * @param {Element} el The element you want to get offsets of\n *\n * @return {Object} Object containing `top` and `left` offsets\n */\n\nfunction offset(el) {\n  var left = 0;\n  var top = 0;\n\n  while (el && !isNaN(el.offsetLeft) && !isNaN(el.offsetTop)) {\n    left += el.offsetLeft - (el.tagName !== 'BODY' ? el.scrollLeft : 0);\n    top += el.offsetTop - (el.tagName !== 'BODY' ? el.scrollTop : 0);\n    el = el.offsetParent;\n  }\n\n  return {\n    top: top,\n    left: left\n  };\n}\n/**\n * Useful to normalize parameters accepted by modules which work with dom nodes.\n * If you need to have an array of Elements and you want to accept any of: String, String array, Element, Element array\n *\n *\n * @example\n * import {qs, getElements} from '@okiba/dom'\n * const els1 = getElements(['.some', '#thing']) // => [div.some, span#it]\n *\n * const el = qs('.element')\n * const els2 = getElements(el) // => [el]\n *\n * @param {(String|String[]|Element|Element[])} target The target you want to be sure to obtain as an array of Elements\n *\n * @return {Element[]} An array of Elements\n */\n\nfunction getElements(target) {\n  var els;\n\n  if (typeof target === 'string') {\n    els = qsa(target);\n  }\n\n  if (target instanceof Node) {\n    els = [target];\n  }\n\n  if (target instanceof NodeList) {\n    els = castArray(target);\n  }\n\n  if (target instanceof Array) {\n    if (target[0] instanceof Node) {\n      return target;\n    } else if (typeof target[0] === 'string') {\n      els = target.reduce(function (acc, curr) {\n        return acc.concat(qsa(curr));\n      }, []);\n    }\n  }\n\n  if (!els) {\n    throw new Error('No target provided');\n  }\n\n  return els;\n}\n\nfunction getMatcher() {\n  for (var _i = 0, _arr = ['matchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector', 'webkitMatchesSelector']; _i < _arr.length; _i++) {\n    var k = _arr[_i];\n    if (k in Element.prototype) return k;\n  }\n}\n/**\n * Checks if the given elemens has an ancestor which matches a selector\n *\n * @example\n * import {delegate} from '@okiba/dom'\n *\n * const undelegate = delegate('a.internal-navigation', 'click', onNavigationClick, {capture: true})\n *\n * function disableNavigation() {\n *   undelegate()\n * }\n *\n * @param {Element} el Element to check\n * @param {(String|Element)} target Selector to match\n *\n * @return {Boolean} Boolean of match found\n */\n\n\nvar matcher;\nfunction isChildOf(el, target) {\n  var isSelector = typeof target === 'string';\n  if (isSelector && !matcher) matcher = getMatcher();\n  var isMatching = false; // console.log(el, el.parentNode, target, matcher)\n\n  do {\n    isMatching = isSelector ? el.matches && el[matcher](target) : el === target; // console.log(el, el.parentNode, target, matcher)\n\n    el = el.parentNode;\n  } while (!isMatching && el);\n\n  return isMatching;\n}\n/**\n * Delegate an event callback,\n * it will be executed only if the event target has an ancestor which matches the given target\n *\n * @example\n * import {delegate} from '@okiba/dom'\n *\n * const undelegate = delegate('a.internal-navigation', 'click', onNavigationClick, {capture: true})\n *\n * function disableNavigation() {\n *   undelegate()\n * }\n *\n * @param {(String|Element)} target Selector or Element to match\n * @param {(String)} event Event to bind to\n * @param {(String)} callback Function to be executed at match\n * @param {(String)} options Options forwarded to `on`\n *\n * @return {Function} Function to be called to remove the delegated callback\n */\n\nfunction delegate(target, event, callback, options) {\n  function check(e) {\n    if (isChildOf(e.target, target)) {\n      callback(e);\n    }\n  }\n\n  on(window, event, check, options);\n  return function undelegate() {\n    off(window, event, check);\n  };\n}\n\nexport { byId, delegate, eventCoords, getElements, isChildOf, off, offset, on, qs, qsa };\n//# sourceMappingURL=index.esm.js.map\n","import EventEmitter from '@okiba/event-emitter'\nimport {hasPassiveEvents} from './detect'\n\nimport { on } from '@okiba/dom'\n\nexport default new class EventManager extends EventEmitter {\n  constructor() {\n    super()\n    this.listen()\n  }\n\n  onRaf = (timestamp) => {\n    this.emit('raf', timestamp)\n    requestAnimationFrame(this.onRaf)\n  }\n\n  onResize = () => {\n    this.emit('resize', {\n      width: window.innerWidth,\n      height: window.innerHeight\n    })\n  }\n\n  onScroll = (data) => {\n    this.emit('scroll', data)\n  }\n\n  listen() {\n    requestAnimationFrame(this.onRaf)\n\n    on(window, 'resize', this.onResize, hasPassiveEvents ? {passive: true, capture: false} : false)\n    on(window, 'scroll', this.onScroll, hasPassiveEvents ? {passive: true, capture: false} : false)\n  }\n}\n","/**\n * @module math\n * @description Collection of math functions\n */\n\n/**\n * Linear interpolation between a two values\n * @param  {Number} min      Minimum possible value\n * @param  {Number} max      Maximum possible value\n * @param  {Number} fraction Current position\n * @return {Number}          The interpolated value\n *\n * @example\n * import {lerp} from '@okiba/math'\n * const xPosition = lerp(0, 100, 0.5)\n * console.log(xPosition) // 50\n */\nfunction lerp(min, max, fraction) {\n  return (max - min) * fraction + min;\n}\n/**\n * Maps a value between two ranges\n * @param  {Number} n       Value to map\n * @param  {Number} min1    Source range minimum\n * @param  {Number} max1    Source range maximum\n * @param  {Number} min2    Target range minimum\n * @param  {Number} max2    Target range maximum\n * @return {Number}         Mapped value\n *\n * @example\n * import {map} from '@okiba/math'\n *\n * const x = map(0.5, 0, 1, 0, 1000)\n * console.log(x) // 500\n *\n * const y = map(0, -1, 1, -1000, 1000)\n * console.log(y) // 0\n */\n\nfunction map(n, min1, max1, min2, max2) {\n  return (n - min1) * (max2 - min2) / (max1 - min1) + min2;\n}\n/**\n * Limit a value between a min and a max (inclusive)\n * @param  {Number} n   Value to cap\n * @param  {Number} min Minimum possible value\n * @param  {Number} max Maximum possible value\n * @return {Number}     Capped value\n *\n * @example\n * import {cap} from '@okiba/math'\n * let progress = 1.1\n * progress = cap(0, 1, progress)\n * console.log(progress) // 1\n */\n\nfunction cap(n, min, max) {\n  return Math.min(Math.max(n, min), max);\n}\n/**\n * Distance between two numbers\n * @param  {Number} x1 First number\n * @param  {Number} x2 Second number\n * @return {Number}    Distance between the values\n *\n * @example\n * import {distance} from '@okiba/math'\n * const x1 = -100, x2 = 100\n * const d = distance(x1, x2)\n * console.log(d) // 200\n */\n\nfunction distance(x1, x2) {\n  return Math.abs(x1 - x2);\n}\nvar roundMap = {};\n/**\n * Round a number with given precision, with memoized powers\n * @param  {Number} n Number to round\n * @param  {Number} [p=3] Precision of digits to leave\n * @return {Number} Rounded number\n *\n * @example\n * import {round} from '@okiba/math'\n * const rounded = distance(1.111111, 3)\n * console.log(rounded) // 1.111\n */\n\nfunction round(n) {\n  var p = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n\n  if (!roundMap[p]) {\n    roundMap[p] = Math.pow(10, p);\n  }\n\n  return Math.round(n * roundMap[p]) / roundMap[p];\n}\n\nexport { cap, distance, lerp, map, round };\n//# sourceMappingURL=index.esm.js.map\n","import EventManager from './event-manager'\nimport { offset } from '@okiba/dom'\n\nexport default new class SizesCache {\n  constructor() {\n    this.map = new Map()\n    this.listen()\n    this.onResize()\n  }\n\n  get(el) {\n    if (!this.map.has(el)) {\n      this.map.set(el, {})\n      this.compute(el)\n    }\n\n    return this.map.get(el)\n  }\n\n  compute(el) {\n    const sizes = this.map.get(el)\n\n    const {top, left} = offset(el)\n    const width = el.clientWidth\n    const height = el.clientHeight\n\n    sizes.top = top\n    sizes.right = left + width\n    sizes.bottom = top + height\n    sizes.left = left\n    sizes.width = width\n    sizes.height = height\n  }\n\n  onResize = () => {\n    this.window = {\n      width: window.innerWidth,\n      height: window.innerHeight\n    }\n\n    this.body = {\n      width: document.body.offsetWidth,\n      height: document.body.offsetHeight\n    }\n\n    for (const el of this.map.keys()) {\n      this.compute(el)\n    }\n  }\n\n  listen() {\n    EventManager.on('resize', this.onResize)\n  }\n}\n","import EventEmitter from '@okiba/event-emitter'\nimport EventManager from './event-manager'\nimport {lerp} from '@okiba/math'\nimport SizesCache from './sizes-cache'\n\n\nexport default new class ScrollManager extends EventEmitter {\n  constructor() {\n    super()\n\n    this.targetY = this.lerpY =  window.scrollY || window.pageYOffset\n\n    this.emit('scroll', {y: this.targetY, delta: 0, acceleration: 0})\n    this.listen()\n  }\n\n  // Puo essere tolto metodo\n  disable() {\n    if (!this.isEnabled) return\n    this.isEnabled = false\n  }\n\n  enable() {\n    if (this.isEnabled) return\n    this.isEnabled = true\n  }\n\n  onRaf = () => {\n    if (!this.isEnabled || this.lerpY === this.targetY) return\n\n    this.deltaLerpY = this.lerpY\n    this.lerpY = lerp(this.lerpY, this.targetY, 0.1)\n    this.deltaLerpY -= this.lerpY\n\n    if (Math.abs(this.deltaLerpY) < 0.02) {\n      this.lerpY = this.targetY\n      this.deltaLerpY = 0\n    }\n\n    this.emit('scroll', {\n      y: ~~this.lerpY,\n      delta: this.deltaLerpY,\n      acceleration: this.deltaLerpY / SizesCache.window.height\n    })\n  }\n\n  onChange = () => {\n    this.deltaY = (window.scrollY || window.pageYOffset) - this.targetY\n    this.targetY += this.deltaY\n\n    if (!this.isEnabled) {\n      this.emit('scroll', {\n        y: this.targetY,\n        delta: this.deltaY,\n        acceleration: this.deltaY / SizesCache.window.height\n      })\n    }\n  }\n\n  listen() {\n    EventManager.on('raf', this.onRaf)\n    EventManager.on('scroll', this.onChange)\n    EventManager.on('resize', this.onChange)\n  }\n}\n","import { qsa } from '@okiba/dom';\nimport { arrayOrOne } from '@okiba/arrays';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction bindUi(ui, el) {\n  return Object.keys(ui).reduce(function (hash, key) {\n    var els = arrayOrOne(qsa(ui[key].selector || ui[key], el));\n\n    if (els) {\n      hash[key] = els;\n    } else if (!ui[key].optional) {\n      throw new Error(\"[!!] [Component] Cant't find UI element for selector: \".concat(ui[key]));\n    }\n\n    return hash;\n  }, {});\n}\n\nfunction bindComponents(components, el) {\n  return Object.keys(components).reduce(function (hash, key) {\n    var _components$key = components[key],\n        type = _components$key.type,\n        selector = _components$key.selector,\n        options = _components$key.options,\n        optional = _components$key.optional;\n\n    if (typeof selector !== 'string' || !type) {\n      throw new Error(\"[!!] [Component] Invalid component configuration for key: \".concat(key));\n    }\n\n    var els = arrayOrOne(qsa(selector, el));\n\n    if (els) {\n      hash[key] = Array.isArray(els) ? els.map(function (n) {\n        return new type({\n          el: n,\n          options: options\n        });\n      }) : new type({\n        el: els,\n        options: options\n      });\n    } else if (!optional) {\n      throw new Error(\"[!!] [Component] Cant't find node with selector \".concat(selector, \" for sub-component: \").concat(key));\n    }\n\n    return hash;\n  }, {});\n}\n/**\n * Accepts an __hash__ whose properties can be:\n * @param {Object} args Arguments to create a component\n * @param   {Element}   {el}       DOM Element to be bound\n * @param   {Object}    [{ui}]\n * UI hash where keys are name and values are selectors\n * ```javascript\n * { buttonNext: '#buttonNext' }\n * ```\n * Becomes:\n * ```javascript\n * this.ui.buttonNext\n * ```\n *\n * @param   {Object}    [{components}]\n * Components hash for childs to bind, keys are names and values are component initialization props:\n * ```javascript\n * {\n *   slider: {\n *     // Matched using [qs]('https://github/okiba-gang/okiba/packages/dom'), scoped to the current component element\n *     selector: '.domSelector',\n *     // Component class, extending Okiba Component\n *     type: Slider,\n *     // Options hash\n *     options: {fullScreen: true}\n *   }\n * }\n * ```\n *\n * Becomes:\n * ```javascript\n * this.components.slider\n * ```\n * @param   {Object}    [{options}]         Custom options passed to the component\n */\n\n\nvar Component =\n/*#__PURE__*/\nfunction () {\n  function Component(args) {\n    _classCallCheck(this, Component);\n\n    this.el = args.el;\n\n    if (args.options) {\n      this.options = args.options;\n    }\n\n    if (args.ui) {\n      this.ui = bindUi(args.ui, args.el);\n    }\n\n    if (args.components) {\n      this.components = bindComponents(args.components, args.el);\n    }\n  }\n  /**\n   * @function onDestroy\n   * @description Virtual method, needs to be overridden\n   * It's the place to call cleanup functions as it will\n   * be called when your component is destroyed\n   */\n\n  /**\n   * Should not be overridden, will call `onDestroy`\n   * and forward destruction to all child components\n   */\n\n\n  _createClass(Component, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this = this;\n\n      if (this.onDestroy) {\n        this.onDestroy();\n      }\n\n      if (this.components) {\n        Object.keys(this.components).forEach(function (key) {\n          return (_this.components[key].length ? _this.components[key] : [_this.components[key]]).forEach(function (c) {\n            return c.destroy();\n          });\n        });\n      }\n\n      this.components = null;\n    }\n  }]);\n\n  return Component;\n}();\n\nexport default Component;\n//# sourceMappingURL=index.esm.js.map\n","import Component from '@okiba/component'\nimport EventManager from './event-manager'\n\nconst ui = {\n  content: '.js-scroll-content'\n}\n\nexport default class ScrollContainer extends Component {\n  constructor({el}) {\n    super({el, ui})\n    this.listen()\n    this.onResize()\n  }\n\n  disable() {\n    if (!this.isEnabled) return\n    this.isEnabled = false\n    document.body.style.height = ''\n    Object.assign(this.el.style, {\n      position: '',\n      top: '',\n      left: '',\n      width: ''\n    })\n  }\n\n  enable() {\n    if (this.isEnabled) return\n    this.isEnabled = true\n    document.body.style.height = `${this.height}px`\n    Object.assign(this.el.style, {\n      position: 'fixed',\n      top: '0',\n      left: '0',\n      width: '100%'\n    })\n  }\n\n  onResize = () => {\n    this.height = this.ui.content.offsetHeight\n    if (this.isEnabled) {\n      document.body.style.height = `${this.height}px`\n    }\n  }\n\n  listen() {\n    EventManager.on('resize', this.onResize)\n  }\n}\n","import {cap} from '@okiba/math'\nimport ScrollManager from './scroll-manager'\nimport EventManager from './event-manager'\nimport SizesCache from './sizes-cache'\n\nexport default class SmoothScroll {\n  constructor(el) {\n    this.el = el\n    this.sizes = SizesCache.get(this.el)\n    this.onResize()\n    this.listen()\n  }\n\n  disable() {\n    if (!this.isEnabled) return\n    this.isEnabled = false\n    this.el.style.transform = ''\n  }\n\n  enable() {\n    if (this.isEnabled) return\n    this.isEnabled = true\n    this.el.style.transform = `translate3d(0, -${this.y}px, 0)`\n  }\n\n  onRaf = () => {\n    if (!this.isEnabled) return\n    if (this.targetY === this.y) {\n      EventManager.off('raf', this.onRaf)\n      return\n    }\n\n    this.y = this.targetY\n    this.el.style.transform = `translate3d(0, -${this.y}px, 0)`\n  }\n\n  onScroll = ({y}) => {\n    this.targetY = cap(y, this.top, this.bottom)\n    if (this.targetY !== this.y) {\n      this.onRaf()\n      EventManager.on('raf', this.onRaf)\n      return\n    }\n  }\n\n  onResize = () => {\n    this.bottom = this.sizes.bottom\n    this.top = this.sizes.top - SizesCache.window.height\n  }\n\n  listen() {\n    EventManager.on('resize', this.onResize)\n    EventManager.on('raf', this.onRaf)\n    ScrollManager.on('scroll', this.onScroll)\n  }\n}\n","import SizesCache from './sizes-cache'\nimport ScrollManager from './scroll-manager'\nimport EventManager from './event-manager'\n\nexport default class StickyContent {\n  constructor(el, content, opts) {\n    this.opts = opts || {}\n    this.el = el\n    this.content = content\n    this.sizes = SizesCache.get(el)\n    this.onResize()\n    this.listen()\n  }\n\n  enable() {\n    if (this.isEnabled) return\n    this.isEnabled = true\n    this.content.style.transform = `translate3d(0, ${this.y}px, 0)`\n  }\n\n  disable() {\n    if (!this.isEnabled) return\n    this.isEnabled = false\n    this.content.style.transform = ''\n  }\n\n  onScroll = ({y}) => {\n    if (!this.isEnabled) return\n\n    const deltaY = y - this.sizes.top\n\n    if (deltaY <= 0) {\n      this.y = 0\n    } else if (!this.opts.overflow && y > this.limitY)  {\n      this.y = this.maxY\n    } else {\n      this.y = deltaY\n    }\n\n    this.content.style.transform = `translate3d(0, ${this.y}px, 0)`\n  }\n\n  onResize = () => {\n    this.maxY = this.sizes.height - SizesCache.window.height\n    this.limitY = this.sizes.bottom - SizesCache.window.height\n  }\n\n  listen() {\n    EventManager.on('resize', this.onResize)\n    ScrollManager.on('scroll', this.onScroll)\n  }\n}\n","import EventEmitter from '@okiba/event-emitter'\nimport SizesCache from './sizes-cache'\nimport ScrollManager from './scroll-manager'\nimport EventManager from './event-manager'\nimport {map} from '@okiba/math'\n\nexport default class ViewProgress extends EventEmitter {\n  constructor(el, opts) {\n    super()\n    this.opts = opts || {}\n    this.el = el\n    this.sizes = SizesCache.get(el)\n    this.isInside = false\n    this.onResize()\n    this.listen()\n  }\n\n  onScroll = ({y, ...rest}) => {\n    if (!this.opts.overflow && !this.isInside) {\n      if (y < this.startY || y > this.endY) return\n    }\n\n    const progress = map(y, this.startY, this.endY, 0, 1)\n    const isInside = progress >= 0 && progress <= 1\n\n    if (isInside !== this.isInside) {\n      if (isInside) {\n        this.emit('enter')\n      } else {\n        this.emit('exit')\n      }\n    }\n\n    this.isInside = isInside\n    this.emit('progress', {progress, isInside, ...rest, y})\n  }\n\n  onResize = () => {\n    const {top, height} = this.sizes\n\n    this.startY = top - SizesCache.window.height\n    this.endY = this.startY + height + SizesCache.window.height\n\n    if (this.endY >= SizesCache.body.height) {\n      this.endY = this.startY + height\n    }\n\n    if (this.startY < 0) {\n      this.startY = 0\n      this.endY = height\n    }\n  }\n\n  listen() {\n    ScrollManager.on('scroll', this.onScroll)\n    EventManager.on('resize', this.onResize)\n  }\n}\n"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","Array","isArray","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","value","err","EventEmitter","hs","on","name","handler","off","indexOf","splice","emit","data","destroy","_this","entries","forEach","_ref","_ref2","handlers","_hasPassiveEvents","testHasPassiveEvents","defineProperties","hasPassiveEvents","check","get","noop","options","window","addEventListener","removeEventListener","testIsTouch","isTouch","arrayOrOne","arrayLike","castArray","castable","callee","NodeList","DOMTokenList","slice","call","qsa","selector","element","arguments","document","querySelectorAll","evt","source","type","action","elements","types","j","concat","Math","min","offset","el","left","top","isNaN","offsetLeft","offsetTop","tagName","scrollLeft","scrollTop","offsetParent","timestamp","requestAnimationFrame","onRaf","width","innerWidth","height","innerHeight","listen","onResize","onScroll","lerp","max","fraction","map","n","min1","max1","min2","max2","cap","body","offsetWidth","offsetHeight","keys","compute","Map","has","set","sizes","clientWidth","clientHeight","right","bottom","EventManager","isEnabled","lerpY","targetY","deltaLerpY","abs","y","delta","acceleration","SizesCache","deltaY","scrollY","pageYOffset","onChange","bindUi","ui","reduce","hash","els","optional","Error","bindComponents","components","_components$key","Component","args","onDestroy","c","content","ScrollContainer","style","assign","position","SmoothScroll","transform","ScrollManager","StickyContent","opts","overflow","limitY","maxY","ViewProgress","rest","isInside","startY","endY","progress"],"mappings":"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"}